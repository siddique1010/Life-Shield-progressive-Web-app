<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title> Safety Web-App</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Leaflet Map CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
    font-family:"Segoe UI",Tahoma,Verdana,sans-serif;
    background:radial-gradient(circle at top,#f97316 0,#7c2d12 40%,#020617 100%);
    color:#f9fafb;
    min-height:100vh;
}

/* HEADER */
header{
    padding:12px 18px;
    display:flex;
    justify-content:space-between;
    background:rgba(15,23,42,0.95);
    position:sticky;
    top:0;
    z-index:10;
}
.logo{display:flex;gap:10px;}
.logo-badge{
    width:34px;height:34px;border-radius:50%;
    background:radial-gradient(circle,#fecaca,#b91c1c);
    display:flex;align-items:center;justify-content:center;
    font-weight:800;
}
.sub-logo{font-size:11px;color:#9ca3af}
.top-actions button{
    font-size:11px;padding:6px 10px;border-radius:999px;border:1px solid rgba(248,250,252,0.5);
    background:transparent;color:#e5e7eb;cursor:pointer;
}
.top-actions button:hover{
    border-color:#f97316;color:#f97316;
}

/* LAYOUT */
.app-container{
    max-width:1100px;
    margin:14px auto;
    padding:0 14px;
    display:grid;
    grid-template-columns:280px 1fr;
    gap:16px;
}
.sidebar,.main{
    background:rgba(15,23,42,0.95);
    border-radius:18px;
    padding:16px;
}
.nav-btn{
    width:100%;
    margin-bottom:6px;
    padding:8px;
    border-radius:10px;
    background:rgba(15,23,42,0.8);
    color:#fff;
    border:none;
    cursor:pointer;
    display:flex;
    align-items:center;
    gap:8px;
}
.nav-btn.active{border:1px solid #f97316}

/* SCREENS */
.screen{display:none;}
.screen.active{display:block}

/* SOS */
.sos-big-btn{
    margin:18px auto;
    width:210px;height:210px;
    border-radius:50%;
    background:radial-gradient(circle,#ef4444,#7f1d1d);
    display:flex;align-items:center;justify-content:center;
    font-size:36px;font-weight:800;
    cursor:pointer;
    box-shadow:0 0 32px rgba(248,113,113,0.9);
    transition: transform 0.1s ease;
}
.sos-big-btn:active{
    transform:scale(0.96);
    box-shadow:0 0 45px rgba(248,113,113,1);
}
.status{
    display:none;
    font-size:12px;
    color:#22c55e;
    margin-top:8px;
}

/* FORMS */
form{display:grid;gap:10px;margin-top:6px;}
.field{font-size:12px;}
.field label{display:block;margin-bottom:2px;color:#cbd5ff;}
.field input,.field select,.field textarea{
    width:100%;padding:7px 9px;border-radius:9px;
    border:1px solid rgba(148,163,184,0.6);
    background:rgba(15,23,42,0.9);color:#e5e7eb;font-size:13px;
}

.field textarea{min-height:70px;resize:vertical;}
.field input:focus,.field select:focus,.field textarea:focus{
    outline:none;border-color:#f97316;box-shadow:0 0 0 1px rgba(248,113,113,0.6);
}

.row-2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;}

.btn-primary{
    padding:9px 14px;border-radius:999px;border:none;
    background:linear-gradient(135deg,#f97316,#b91c1c);
    color:#f9fafb;font-size:13px;font-weight:600;
    cursor:pointer;display:inline-flex;align-items:center;gap:8px;
}

.btn-primary:hover{filter:brightness(1.07);}
.chip-row{display:flex;flex-wrap:wrap;gap:6px;margin:4px 0 2px;}
.chip{
    font-size:11px;padding:4px 8px;border-radius:999px;
    border:1px solid rgba(148,163,184,0.6);cursor:pointer;
}

.chip.active{
    border-color:#f97316;color:#f97316;background:rgba(248,113,113,0.1);
}
.tip-grid{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
            gap:10px;
            margin-top:8px;
        }
        .tip-card{
            padding:10px;
            border-radius:12px;
            border:1px solid rgba(148,163,184,0.6);
            background:rgba(15,23,42,0.9);
            font-size:12px;
        }
        .tip-title{
            font-weight:600;
            margin-bottom:4px;
        }

        footer{
            text-align:center;
            font-size:11px;
            color:#9ca3af;
            padding:8px 12px 14px;
        }

/* MAP */
#map{
    height:320px;
    margin-top:14px;
    border-radius:14px;
    display:none;
    border:1px solid rgba(148,163,184,0.6);
}

@media(max-width:900px){
    .app-container{grid-template-columns:1fr;}
}
</style>
</head>

<body>

<header>
  <div class="logo">
    <div class="logo-badge">WS</div>
    <div>
      <div><b>Life-Shield Web App</b></div>
      <div class="sub-logo">This website is created for emergency purposes</div>
    </div>
  </div>
  <div class="top-actions">
    <button onclick="alert('This is only a project , not connected to real police or rescue services.')">
      Project ¬∑ Not official
    </button>
  </div>
</header>

<div class="app-container">

<!-- SIDEBAR -->
<aside class="sidebar">
  <button class="nav-btn active" data-screen="emergency">üö® Emergency / Alert 15</button>
  <button class="nav-btn" data-screen="journey">üöå Safe Journey</button>
  <button class="nav-btn" data-screen="report">üì£ Report Harassment</button>
<button class="nav-btn" data-screen="comment">üí¨ Comment / Feedback</button>
<button class="nav-btn" data-screen="tips">‚ö†Ô∏è Safety Tips</button>
</aside>

<!-- MAIN -->
<main class="main">

<!-- Emergenct SCREEN -->
<section class="screen active" id="screen-emergency">
  <h2> Emergency  / Quick Help</h2>
  <div class="sos-big-btn" id="sosBtn">Emergency</div>
  <div class="status" id="sosStatus">Demo: Emergency pressed. Location shown on map.</div>
  <div id="map"></div>
</section>

<!-- SAFE JOURNEY SCREEN -->
<section class="screen" id="screen-journey">
  <h2>Safe Journey Planner</h2>
  <form id="journeyForm">
    <div class="row-2">
      <div class="field">
        <label for="from">From</label>
        <input id="from" type="text" placeholder="Current location / home" required>
      </div>
      <div class="field">
        <label for="to">To</label>
        <input id="to" type="text" placeholder="Destination" required>
      </div>
    </div>
    <div class="row-2">
      <div class="field">
        <label for="mode">Transport</label>
        <select id="mode" required>
          <option value="">Select</option>
          <option>Ride-hailing car</option>
          <option>Taxi / Rickshaw</option>
          <option>Bus / Metro</option>
          <option>Walking</option>
          <option>Other</option>
        </select>
      </div>
      <div class="field">
        <label for="eta">Estimated time (minutes)</label>
        <input id="eta" type="number" min="5" max="240" placeholder="e.g. 35" required>
      </div>
    </div>
    <div class="field">
      <label for="trusted">Trusted contact (name & number)</label>
      <input id="trusted" type="text" placeholder="Sister ‚Äì +92 3xx xxxxxxx">
    </div>
    <div class="field">
      <label>Risk level you feel right now</label>
      <div class="chip-row" id="riskChips">
        <div class="chip active" data-val="Normal">Normal</div>
        <div class="chip" data-val="Uncomfortable">Uncomfortable</div>
        <div class="chip" data-val="Very unsafe">Very unsafe</div>
      </div>
      <input type="hidden" id="riskValue" value="Normal">
    </div>
    <div class="field">
      <label for="note">Notes / vehicle details</label>
      <textarea id="note" placeholder="Plate number, driver name, color of vehicle ..."></textarea>
    </div>
    <button type="submit" class="btn-primary">üì§ Save Journey & Generate Summary</button>
    <div class="status" id="journeyStatus">Journey saved locally. Screenshot to share with your trusted contact.</div>
  </form>
</section>

<!-- REPORT SCREEN -->
<section class="screen" id="screen-report">
  <h2>Report Harassment / Incident</h2>
  <form id="reportForm">
    <div class="row-2">
      <div class="field">
        <label for="victimName">Your name (optional)</label>
        <input id="victimName" type="text" placeholder="You can leave this empty">
      </div>
      <div class="field">
        <label for="contact">Contact (phone/email)</label>
        <input id="contact" type="text" placeholder="+92 3xx xxxxxxx or email">
      </div>
    </div>
    <div class="field">
      <label for="place">Place</label>
      <input id="place" type="text" placeholder="Street, bus stop, office, online, etc." required>
    </div>
    <div class="field">
      <label for="datetime">Date & time</label>
      <input id="datetime" type="datetime-local">
    </div>
    <div class="field">
      <label>Type of harassment</label>
      <div class="chip-row" id="typeChips">
        <div class="chip active" data-val="Verbal">Verbal</div>
        <div class="chip" data-val="Physical">Physical</div>
        <div class="chip" data-val="Online">Online</div>
        <div class="chip" data-val="Stalking">Stalking</div>
        <div class="chip" data-val="Other">Other</div>
      </div>
      <input type="hidden" id="typeValue" value="Verbal">
    </div>
    <div class="field">
      <label for="details">What happened? (facts only)</label>
      <textarea id="details" placeholder="Describe clearly..." required></textarea>
    </div>
    <div class="field">
      <label for="evidence">Evidence (optional)</label>
      <input id="evidence" type="text" placeholder="E.g. screenshots, photos, video, witnesses">
    </div>
    <button type="submit" class="btn-primary">üìù Save Incident Summary</button>
    <div class="status" id="reportStatus">Incident summary saved locally.</div>
    
  </form>
</section>


<!-- COMMENT SCREEN -->
<section class="screen" id="screen-comment">
  <h2>User Feedback / Comment</h2>
  <form id="commentForm">
    <div class="field">
      <label for="username">Name (optional)</label>
      <input id="username" type="text" placeholder="Your name">
    </div>
    <div class="field">
      <label for="userComment">Comment / Feedback</label>
      <textarea id="userComment" placeholder="Your feedback..." required></textarea>
    </div>
    <button type="submit" class="btn-primary">Submit Comment</button>
    <div class="status" id="commentStatus">Comment saved locally.</div>
  </form>
</section>

<!-- SAFETY TIPS SCREEN -->
<section class="screen" id="screen-tips">
  <h2>Quick Safety Tips</h2>
  <div class="tip-grid">
    <div class="tip-card">
      <div class="tip-title">Stay in well-lit areas</div>
      <p>Always walk in areas with good lighting at night.</p>
    </div>
    <div class="tip-card">
      <div class="tip-title">Share your journey</div>
      <p>Send your location to trusted contacts when traveling.</p>
    </div>
    <div class="tip-card">
      <div class="tip-title">Trust your instincts</div>
      <p>If a situation feels unsafe, leave immediately and call for help.</p>
    </div>
  </div>
</section>



<!--for gooogle map-->
<!-- <section class="screen" id="screen-awareness">
            <div class="screen-header">
                <div>
                    <div class="screen-title">Rights & Awareness</div>
                    <div class="screen-sub">
                        Women safety apps often include awareness material on anti‚Äëharassment laws, helplines, and how to seek help.
                    </div>
                </div>
                <div class="pill">Mode: Info</div>
            </div>

            <div class="tip-grid">
                <div class="tip-card">
                    <div class="tip-title">Know your helplines</div>
                    <p>
                        Check official government or police websites for the real emergency numbers in your region (police, rescue/ambulance, women helplines, cybercrime cell).
                    </p>
                </div>
                <div class="tip-card">
                    <div class="tip-title">When to press Emergency-button </div>
                    <p>
                        Use Emergency-button when you feel in immediate danger, someone is following you, an assault is happening, or you are stuck in a vehicle or place you cannot safely leave.
                    </p>
                </div>
                <div class="tip-card">
                    <div class="tip-title">Share your location</div>
                    <p>
                        If possible, share your live location with trusted contacts or official apps when traveling with unfamiliar drivers or in low‚Äëcrowd areas.
                    </p>
                </div>
                <div class="tip-card">
                    <div class="tip-title">Support & reporting</div>
                    <p>
                        Learn about local laws on harassment and how to file a complaint through official women safety apps, police desks, or helplines in your province or country.
                    </p>
                </div>
            </div>
        </section>
    </main>
</div>

<footer>
    Project : Life-Shield Web App ¬∑ Not connected to Punjab Police or any government system.  
  this website created for final semerster project of AICT by group mates Noor, Abu-bakkar, Abeer.
</footer>


<script>
// TAB NAVIGATION
document.querySelectorAll(".nav-btn").forEach(btn=>{
  btn.addEventListener("click",()=>{
    document.querySelectorAll(".nav-btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
    document.getElementById("screen-"+btn.dataset.screen).classList.add("active");
  });
});

// SOS BUTTON - GOOGLE MAP
let map, marker;
const sosBtn = document.getElementById("sosBtn");
const sosStatus = document.getElementById("sosStatus");
const mapDiv = document.getElementById("map");

sosBtn.addEventListener("click", () => {
  sosStatus.style.display = "block";
  sosStatus.innerText = "Getting your live location...";
  mapDiv.style.display = "block";

  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
      (pos) => {
        const lat = pos.coords.latitude;
        const lng = pos.coords.longitude;

        if (!map) {
          map = new google.maps.Map(mapDiv, {
            center: { lat, lng },
            zoom: 16
          });
        } else {
          map.setCenter({ lat, lng });
        }

        if (marker) marker.setMap(null);
        marker = new google.maps.Marker({
          position: { lat, lng },
          map: map,
          title: "üìç Your Current Location"
        });

        sosStatus.innerText = "Emergency activated. Location shown on Google Map.";
      },
      () => {
        sosStatus.innerText = "Location permission denied. Enable GPS.";
      }
    );
  } else {
    sosStatus.innerText = "Geolocation is not supported by your browser.";
  }
});
</script>-->

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
// TAB NAVIGATION
document.querySelectorAll(".nav-btn").forEach(btn=>{
  btn.addEventListener("click",()=>{
    document.querySelectorAll(".nav-btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
    document.getElementById("screen-"+btn.dataset.screen).classList.add("active");
  });
});

// SOS + MAP + LOCATION
let map, marker;
const sosBtn = document.getElementById("sosBtn");
const sosStatus = document.getElementById("sosStatus");
const mapDiv = document.getElementById("map");

sosBtn.addEventListener("click", () => {
  sosStatus.style.display = "block";
  sosStatus.innerText = "Getting your live location...";
  mapDiv.style.display = "block";

  if (!map) {
    map = L.map("map").setView([20,78],5);
    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      attribution: "¬© OpenStreetMap"
    }).addTo(map);
  }

  navigator.geolocation.getCurrentPosition(
    pos=>{
      const lat = pos.coords.latitude;
      const lng = pos.coords.longitude;

      if(marker) map.removeLayer(marker);

      marker = L.marker([lat,lng]).addTo(map)
        .bindPopup("üìç Your Current Location").openPopup();
      map.setView([lat,lng],16);

      sosStatus.innerText = "Demo SOS activated. Location shown on map.";
    },
    ()=>{
      sosStatus.innerText = "Location permission denied. Enable GPS.";
    }
  );
});


// Journey chips
document.getElementById("riskChips").addEventListener("click", e=>{
  if(e.target.classList.contains("chip")){
    [...e.target.parentElement.children].forEach(ch=>ch.classList.remove("active"));
    e.target.classList.add("active");
    document.getElementById("riskValue").value = e.target.dataset.val;
  }
});

// Report chips
document.getElementById("typeChips").addEventListener("click", e=>{
  if(e.target.classList.contains("chip")){
    [...e.target.parentElement.children].forEach(ch=>ch.classList.remove("active"));
    e.target.classList.add("active");
    document.getElementById("typeValue").value = e.target.dataset.val;
  }
});

// Journey form local save
document.getElementById("journeyForm").addEventListener("submit", e=>{
  e.preventDefault();
  const data={
    from: document.getElementById("from").value,
    to: document.getElementById("to").value,
    mode: document.getElementById("mode").value,
    eta: document.getElementById("eta").value,
    trusted: document.getElementById("trusted").value,
    risk: document.getElementById("riskValue").value,
    note: document.getElementById("note").value,
    time: new Date().toISOString()
  };
  localStorage.setItem("womenSafetyJourney", JSON.stringify(data));
  document.getElementById("journeyStatus").style.display="block";
});

// Report form local save
document.getElementById("reportForm").addEventListener("submit", e=>{
  e.preventDefault();
  const data={
    name: document.getElementById("victimName").value,
    contact: document.getElementById("contact").value,
    place: document.getElementById("place").value,
    datetime: document.getElementById("datetime").value,
    type: document.getElementById("typeValue").value,
    details: document.getElementById("details").value,
    evidence: document.getElementById("evidence").value,
    timeSaved: new Date().toISOString()
  };
  localStorage.setItem("womenSafetyReport", JSON.stringify(data));
  document.getElementById("reportStatus").style.display="block";
});


// COMMENT FORM
document.getElementById("commentForm").addEventListener("submit", e=>{
  e.preventDefault();
  const commentData = {
    name: document.getElementById("username").value,
    comment: document.getElementById("userComment").value,
    timeSaved: new Date().toISOString()
  };
  // Save multiple comments in an array
  let comments = JSON.parse(localStorage.getItem("commentsList")) || [];
  comments.push(commentData);
  localStorage.setItem("commentsList", JSON.stringify(comments));
  document.getElementById("commentStatus").style.display="block";
});
</script>

</body>
</html>